<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <?php include 'head.html'; ?>
    <title>COPIA</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        body {
            background-color: #000;
            color: #fff;
            font-family: sans-serif;
            padding: 20px;
            /* Evita barras de scroll si los elementos se salen */
            overflow: hidden; 
        }

        .no-select {
            user-select: none;
        }

        .draggable {
            position: absolute;
            cursor: grab;
            z-index: 10;
            border: 0px solid rgba(255, 255, 255, 0.2); /* Borde sutil para ver los límites */
            border-radius: 8px; /* Bordes redondeados */
        }
        
        .dragging {
            cursor: grabbing;
            z-index: 20;
            transform: scale(1.10);
            box-shadow: 0 0px 0px rgba(0,0,0,0.5);
            transition: transform 0.2s, box-shadow 0.2s;
            border-color: rgba(255, 255, 255, 0);
        }

        .background-video {
            position: fixed;
            top: 0;
            left: 0;
            opacity: 30%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }
        
        .blinking-text {
            animation: blink 1s steps(2, start) infinite;
        }
        @keyframes blink {
            to { visibility: hidden; }
        }

        /* --- Estilos para Móviles --- */
        @media (max-width: 768px) {
            .video-movil-oculto {
                display: none;
            }
            .goat-related {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .titulo-estilo {
                display: none;
            }
    </style>
</head>




<body>
    <video class="background-video" autoplay loop muted playsinline>
        <source src="https://res.cloudinary.com/djddsm416/video/upload/v1754604890/TV_STATIC_4K_60FPS_bjfnpa.mp4" type="video/mp4">
    </video>

       <div class="titulo-estilo" style="transform: translateX(-10%);">
        COPIA
    </div>
    
<!-- ESTO SOLO ES VISIBLE EN MÓVIL Y TIENE LA ANIMACIÓN DE SCROLL CONTINUO -->
<div class="mobile-scrolling-copia">
    <span class="mobile-scrolling-copia-content">
        COPIA COPIA COPIA COPIA COPIA COPIA COPIA COPIA COPIA COPIA COPIA COPIA
    </span>
</div>    
    <div class="menu-estilo">
            <a class="button-1" href="video.html" rel="history">VIDEO</a>
            <a class="button-1" href="img.html" rel="history">IMG</a>
            <a class="button-1" href="music.html" rel="history">MUSIC</a>
            <a class="button-1" href="others.html" rel="history">OTHERS</a>
    </div>

 

    <!-- Añade la clase "info-container" al div principal -->
<div class="info-container" style="position: absolute; right: 3%; bottom: 7%; z-index: 2000; width: 22%; min-width: 200px; display: flex; flex-direction: column; align-items: center;">
    <a class="info-1" href="about.html" style="font-size: 1.5rem; text-align: center; width: 100%; z-index: 21;" rel="history">ABOUT & OTHERS</a>
    <div style="width: 50%; margin-top: 10px; rotate: -7deg;">
        <img id="copia-musica" src="https://res.cloudinary.com/djddsm416/image/upload/v1754605395/COPIA-perfil_LOW_odpsxz.jpg" alt="Imagen 1" class="draggable" style="max-width: 100%; bottom: 8%;z-index: 20;">
    </div>
</div>

    
    <video
        src="https://res.cloudinary.com/djddsm416/video/upload/v1754821580/COPIA_mago-1_gc79sp.mp4" 
        class="draggable video-movil-oculto" 
        autoplay muted loop playsinline
        style="width: 16%; top: 10%; right: 30%; rotate: 2deg;">
    </video>

    <video
        src="https://res.cloudinary.com/djddsm416/video/upload/v1754821570/KO_After-4-HQ_cot9fk.mp4" 
        class="draggable video-movil-oculto" 
        autoplay muted loop playsinline
        style="width: 56%; top: 25%; left: 10%; z-index: 1;">
    </video>

    <video
        src="https://res.cloudinary.com/djddsm416/video/upload/v1754604138/BI_teaser1-v4_qyehrf.mp4" 
        class="draggable video-movil-oculto" 
        autoplay muted loop playsinline
        style="width:16%; top: 15%; right: 10%; z-index: 2;">
    </video>

    <!-- Elementos de la cabra (se ocultarán en móvil por la clase .goat-related) -->
    <img id="cabra-sonido" src="https://res.cloudinary.com/djddsm416/image/upload/v1754825098/cabrita_hmoo6j.png" alt="Imagen Cabra" class="draggable goat-related" style="max-width: 12%; top: 100px; left: 10rem; z-index: 999;">
    
    <a class="text-1 blinking-text goat-related" style="position: absolute; left: 2%; bottom: 5%; z-index: 3000; font-size: 1.5vw;">
        DON'T TOUCH the GOAT!
    </a>
    <!-- Fin de elementos de la cabra -->

    <div class="gif-container" style="position: absolute; top: 19px; right: 3%; max-width: 18%; z-index: 1; rotate: 2deg;">
        <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExcmxqazE1YnNhanNndjRlczc2c3Y1czZ4NWJlM204dWtsMWJuamhtaSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/UYkZqHsvhhQVW/giphy.gif"
             style="max-width: 100%; display: block; cursor: pointer;">
        <span class="text-1" id="stolen-gift-text" style="display: none; position: absolute; top: 0; left: 50%; transform: translateX(-50%); white-space: nowrap; font-size: 1.3vw;">stolen gift</span>
    </div>

<script>
    // --- Configuración inicial ---
    let highestZIndex = 100;
    let activeElement = null;
    let initialX, initialY;

    // Audio setup
    const cabraSound = new Audio('https://res.cloudinary.com/djddsm416/video/upload/v1754825404/goat_hoeqod.mp3');
    const copiaSound = new Audio('https://res.cloudinary.com/djddsm416/video/upload/v1754825411/techno_wtz6kx.mp3');
    cabraSound.loop = true;
    copiaSound.loop = true;

    // --- Lógica de arrastre ---
    document.querySelectorAll('.draggable').forEach(element => {
        element.addEventListener('mousedown', dragStart);
        if (element.tagName.toLowerCase() === 'img') {
            element.setAttribute('draggable', 'false');
        }
    });

    function dragStart(e) {
        e.preventDefault();
        activeElement = this;
        activeElement.classList.add('dragging');
        
        highestZIndex++;
        activeElement.style.zIndex = highestZIndex;

        initialX = e.clientX - activeElement.offsetLeft;
        initialY = e.clientY - activeElement.offsetTop;

        document.addEventListener('mousemove', drag);

        if (activeElement.id === 'cabra-sonido') {
            stopEscapeLogic();
            cabraSound.play();
        } else if (activeElement.id === 'copia-musica') {
            copiaSound.play();
        }
    }

    function drag(e) {
        if (!activeElement) return;
        e.preventDefault();
        let currentX = e.clientX - initialX;
        let currentY = e.clientY - initialY;
        activeElement.style.left = currentX + 'px';
        activeElement.style.top = currentY + 'px';
    }

    document.addEventListener('mouseup', dragEnd);

    function dragEnd(e) {
        // Detener sonidos
        cabraSound.pause();
        cabraSound.currentTime = 0;
        copiaSound.pause();
        copiaSound.currentTime = 0;

        document.removeEventListener('mousemove', drag);

        if (!activeElement) return;

        if (activeElement.id === 'cabra-sonido') {
            startEscapeLogic();
        }
        
        activeElement.classList.remove('dragging');
        activeElement = null;
    }
</script>
    
<script>
    const cabra = document.getElementById('cabra-sonido');
    let escapeInterval = null; 

    const escapeDistance = 200; 
    const escapeSpeed = 15;
    const friction = 0.5;

    let vx = 0; 
    let vy = 0;

    function handleMouseMove(e) {
        if (!cabra || window.getComputedStyle(cabra).display === 'none') return;

        const cabraRect = cabra.getBoundingClientRect();
        const cabraX = cabraRect.left + cabraRect.width / 2;
        const cabraY = cabraRect.top + cabraRect.height / 2;
        const mouseX = e.clientX;
        const mouseY = e.clientY;

        const dx = cabraX - mouseX;
        const dy = cabraY - mouseY;
        const distance = Math.sqrt(dx * dx + dy * dy);

        if (distance < escapeDistance) {
            const angle = Math.atan2(dy, dx);
            vx += Math.cos(angle) * escapeSpeed;
            vy += Math.sin(angle) * escapeSpeed;
        }
    }
    
    function updatePosition() {
        if (!cabra || window.getComputedStyle(cabra).display === 'none') return;

        vx *= friction;
        vy *= friction;
        let currentLeft = cabra.offsetLeft;
        let currentTop = cabra.offsetTop;
        let newLeft = currentLeft + vx;
        let newTop = currentTop + vy;
        
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        const cabraWidth = cabra.offsetWidth;
        const cabraHeight = cabra.offsetHeight;

        if (newLeft < 0) { newLeft = 0; vx *= -1; }
        if (newTop < 0) { newTop = 0; vy *= -1; }
        if (newLeft > screenWidth - cabraWidth) { newLeft = screenWidth - cabraWidth; vx *= -1; }
        if (newTop > screenHeight - cabraHeight) { newTop = screenHeight - cabraHeight; vy *= -1; }

        cabra.style.left = newLeft + 'px';
        cabra.style.top = newTop + 'px';
    }

    function startEscapeLogic() {
        if (!escapeInterval) {
            document.addEventListener('mousemove', handleMouseMove);
            escapeInterval = setInterval(updatePosition, 1000 / 60);
        }
    }

    function stopEscapeLogic() {
        document.removeEventListener('mousemove', handleMouseMove);
        clearInterval(escapeInterval);
        escapeInterval = null;
    }

    startEscapeLogic();
</script>

 <script>
    document.addEventListener('DOMContentLoaded', () => {
        const titleElement = document.getElementById('myTitle'); // O document.querySelector('.titulo-estilo');

        if (titleElement) {
            setTimeout(() => {
                titleElement.classList.add('is-visible');
            }, 100);
        }
    });
</script>
    
</body>
</html>