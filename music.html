<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMG</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Press+Start+2P&family=Quicksand:wght@300..700&family=VT323&display=swap" rel="stylesheet">

<style>
    html, body {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }
     body {
            <!--background: linear-gradient(45deg, #ffbf00, #FFFF00);--!>
            min-height: 150vh;
            margin: 0;
            background-attachment: fixed;
            overflow-x: hidden;
        }

        .background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            object-fit: cover;
            opacity: 30%;
            z-index: -1;
        }

    .video-container {
        position: absolute;
        max-width: 100vw;
        will-change: transform;
        transform-style: preserve-3d;
    }

    .fixed-element {
        position: fixed !important;
        transform: none !important;
    }
</style>
</head>
<body>
   <video class="background-video fixed-element" autoplay loop muted playsinline>
    <source src="https://res.cloudinary.com/djddsm416/video/upload/v1754604890/TV_STATIC_4K_60FPS_bjfnpa.mp4" type="video/mp4">
</video>

<div class="menu-hor-estilo">
       <a class="button-1" href="index.html" rel="history">HOME</a>     
       <a class="button-1" href="video.html" rel="history">VIDEO</a>
        <a class="button-1" href="img.html" rel="history">IMG</a>
           <a class="button-1" href="music.html" rel="history">MUSIC</a>
            
    
        </div>
    

<div class="titulo-estilo fixed-element">
    MUSIC
</div>

<div class="habilidades-estilo fixed-element">
        <span class="button-2 heartbeat-1">COMPOSER</span>
    <span class="button-2 heartbeat-1">REC</span>
    <span class="button-2 heartbeat-2">MIX</span>
    <span class="button-2 heartbeat-3">PRODUCTION</span>
    <span class="button-2 heartbeat-3">ALSO I LIKE TO DANCE</span>
</div>
    


  <script>
const images = [
    { src: "images/music/copia-music-1.jpg", width: "449px", alt: "ARIPA - TALANDOBELISCOS", alt2: "REC/MIX/PROD" },
    { src: "images/music/copia-music-2.jpg", width: "449px", alt: "MORDANDO PASTO RULERO", alt2: "COMP/MIX/PROD"},
    { src: "images/music/copia-music-3.jpg", width: "449px", alt: "CHIKITAKE", alt2: "MIX"},
    { src: "images/music/copia-music-4.jpg", width: "449px", alt: "PERRO ZEN - VOL.1", alt2: "REC/MIX"},
    { src: "images/music/copia-music-5.jpg", width: "449px", alt: "ARIPA - VIVO Y DESPROLIJO", alt2: "REC/MIX"},
    { src: "images/music/copia-music-8.jpg", width: "449px", alt: "FERMIN", alt2: "MIX"},
    { src: "images/music/copia-music-9.jpg", width: "449px", alt: "FELIPE CACHORRO - AL DENTE", alt2: "REC/MIX"},
    { src: "images/music/copia-music-10.jpg", width: "449px", alt: "MORDANDO PASTO RULERO - LIMBO", alt2: "COMP/REC/MIX"},
    { src: "images/music/copia-music-11.jpg", width: "449px", alt: "LOS AULLIDOS", alt2: "REC/MIX"},
    { src: "images/music/copia-music-12.jpg", width: "449px", alt: "HANNAKA - TO EAT THE SUN", alt2: "PROD/REC"},
    { src: "images/music/copia-music-13.jpg", width: "449px", alt: "MORADANDO PASTO RULERO - LOS ATLETICOS", alt2: "COMP/REC/MIX"},
    { src: "images/music/copia-music-14.jpg", width: "449px", alt: "POTLATCH", alt2: "PROD/REC/MIX"},
    { src: "images/music/copia-music-15.jpg", width: "449px", alt: "NO SALGAS CON ROBOTS - LA CARAVANA", alt2: "REC/MIX"},
    { src: "images/music/copia-music-16.jpg", width: "449px", alt: "EL PLAN DE LA MARIPOSA - LA CRECIDA", alt2: "REC/MIX"},
    { src: "images/music/copia-music-17.jpg", width: "449px", alt: "SACHERIS", alt2: "REC/MIX"},
    { src: "images/music/copia-music-18.jpg", width: "449px", alt: "LOS PERÉZ GARCIA - QUE PASA EN EL BARRIO", alt2: "REC"},
    { src: "images/music/copia-music-19.jpg", width: "449px", alt: "LA PERRERA - PERRO MALVADO", alt2: "REC"},
    { src: "images/music/copia-music-20.jpg", width: "449px", alt: "LA PERA DE MILIO - QUE MIEDO", alt2: "REC/MIX"},



    // Agrega más imágenes aquí
];

let highestZIndex = 100;
let isDragging = false;
let activeContainer = null;
let initialX, initialY, startTime;

function createImages() {
    const container = document.querySelector('body');
    
    images.forEach((img, index) => {
        const div = document.createElement('div');
        div.className = 'video-container draggable';
        div.style.width = img.width;
        div.style.cursor = 'grab';
        div.style.position = 'absolute'; // Ensure position is set
        div.dataset.speed = 0.15 + (index * 0.2);
        
        const imgElement = document.createElement('img');
        imgElement.src = img.src;
        imgElement.alt = img.alt;
        imgElement.style.width = '100%';
        imgElement.style.height = 'auto';
        
        const captionDiv = document.createElement('div');
        captionDiv.className = 'caption';
        captionDiv.textContent = img.alt;
        
        const captionSecondaryDiv = document.createElement('div');
        captionSecondaryDiv.className = 'caption-secondary';
        captionSecondaryDiv.textContent = img.alt2;
        
        div.appendChild(imgElement);
        div.appendChild(captionDiv);
        div.appendChild(captionSecondaryDiv);
        
        container.appendChild(div);
        
        // Add drag functionality to each container
        div.addEventListener('mousedown', (e) => {
            isDragging = true;
            activeContainer = div;
            startTime = new Date().getTime();
            
            highestZIndex++;
            div.style.zIndex = highestZIndex;
            
            initialX = e.clientX - div.offsetLeft;
            initialY = e.clientY - div.offsetTop;
            
            div.style.cursor = 'grabbing';
            e.preventDefault();
        });
    });
}

// Global mouse event handlers
document.addEventListener('mousemove', (e) => {
    if (!isDragging || !activeContainer) return;
    
    e.preventDefault();
    const currentX = e.clientX - initialX;
    const currentY = e.clientY - initialY;
    
    activeContainer.style.left = `${currentX}px`;
    activeContainer.style.top = `${currentY}px`;
});

document.addEventListener('mouseup', () => {
    if (!activeContainer) return;
    
    const endTime = new Date().getTime();
    const timeDiff = endTime - startTime;
    
    if (timeDiff < 200) {
        const currentScale = activeContainer.style.transform.includes('scale(1.2)') ? '1' : '1.2';
        activeContainer.style.transform = `scale(${currentScale})`;
    }
    
    isDragging = false;
    activeContainer.style.cursor = 'grab';
    activeContainer = null;
});

// Parallax effect
function parallax() {
    const containers = document.querySelectorAll('.video-container');
    const scrolled = window.pageYOffset;
    
    containers.forEach(container => {
        const speed = container.dataset.speed;
        const yPos = -(scrolled * speed);
        
        const currentTransform = container.style.transform || '';
        const scaleMatch = currentTransform.match(/scale\((.*?)\)/);
        const scale = scaleMatch ? scaleMatch[1] : '1';
        
        container.style.transform = `translateY(${yPos}px) scale(${scale})`;
    });
}

function distributeImages() {
    const containers = document.querySelectorAll('.video-container:not(.fixed-element)');
    const gridSize = 4; // Número de elementos por fila
    const chaosLevel = 0.5;
    
    const minMargin = 50;
    const topMargin = 200;
    const rowSpacing = 500; // Espacio vertical entre filas
    const windowWidth = window.innerWidth - (minMargin * 2);
    
    const cellWidth = windowWidth / gridSize;
    
    containers.forEach((container, index) => {
        const col = index % gridSize; // Posición horizontal (0-4)
        const row = Math.floor(index / gridSize); // Fila (incrementa cada 5 elementos)
        
        const randomX = (Math.random() - 0.5) * cellWidth * chaosLevel;
        const randomY = (Math.random() - 0.5) * rowSpacing * chaosLevel;
        
        const baseX = minMargin + (col * cellWidth) + (cellWidth/2) - parseInt(container.style.width)/2;
        const baseY = topMargin + (row * rowSpacing); // Usar rowSpacing para separación vertical
        
        const finalX = baseX + randomX;
        const finalY = baseY + randomY;
        
        container.style.transition = 'transform 0.2s ease-out';
        container.style.left = `${Math.max(minMargin, Math.min(windowWidth, finalX))}px`;
        container.style.top = `${finalY}px`;
    });
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    createImages();
    distributeImages();
    
    // After images are created, distribute and set up parallax
    const containers = document.querySelectorAll('.video-container');
    containers.forEach(container => {
        container.dataset.speed = 0.15 + (Math.random() * 0.2);
    });
    
    window.addEventListener('scroll', () => {
        requestAnimationFrame(parallax);
    });
});
</script>



<script>
function savePosition(container) {
    const positions = JSON.parse(localStorage.getItem('imagePositions') || '{}');
    positions[container.querySelector('img').alt] = {
        left: container.style.left,
        top: container.style.top,
        width: container.style.width
    };
    localStorage.setItem('imagePositions', JSON.stringify(positions));
}

function exportPositions() {
    const positions = JSON.parse(localStorage.getItem('imagePositions') || '{}');
    let code = '';
    
    for (const [name, pos] of Object.entries(positions)) {
        code += `<div class="video-container draggable" style="width: ${pos.width}; top: ${pos.top}; left: ${pos.left};">\n`;
    }
    
    console.log('Código HTML generado:');
    console.log(code);
}

document.addEventListener('mouseup', () => {
    if (!activeContainer) return;
    savePosition(activeContainer);
    // ...existing code...
});
</script>




<script>
function distributeImages() {
    const containers = document.querySelectorAll('.video-container:not(.fixed-element)');
    const gridSize = 4; // Número de elementos por fila
    const chaosLevel = 0.5;
    
    const minMargin = 50;
    const topMargin = 200;
    const rowSpacing = 500; // Espacio vertical entre filas
    const windowWidth = window.innerWidth - (minMargin * 2);
    
    const cellWidth = windowWidth / gridSize;
    
    containers.forEach((container, index) => {
        const col = index % gridSize; // Posición horizontal (0-4)
        const row = Math.floor(index / gridSize); // Fila (incrementa cada 5 elementos)
        
        const randomX = (Math.random() - 0.5) * cellWidth * chaosLevel;
        const randomY = (Math.random() - 0.5) * rowSpacing * chaosLevel;
        
        const baseX = minMargin + (col * cellWidth) + (cellWidth/2) - parseInt(container.style.width)/2;
        const baseY = topMargin + (row * rowSpacing); // Usar rowSpacing para separación vertical
        
        const finalX = baseX + randomX;
        const finalY = baseY + randomY;
        
        container.style.transition = 'transform 0.2s ease-out';
        container.style.left = `${Math.max(minMargin, Math.min(windowWidth, finalX))}px`;
        container.style.top = `${finalY}px`;
    });
}

// Run on page load
window.addEventListener('load', distributeImages);

// Run on window resize
let resizeTimeout;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(distributeImages, 100);
});

// Add this code inside your <script> tag, after the existing code

const escapeRadius = 100; // Radius within which the image will escape
const escapeSpeed = 10;    // Speed at which the image escapes

document.addEventListener('mousemove', (e) => {
    const cabrita = document.getElementById('cabrita-sonido');
    if (!cabrita) return;

    const cabritaRect = cabrita.getBoundingClientRect();
    const cabritaCenterX = cabritaRect.left + cabritaRect.width / 2;
    const cabritaCenterY = cabritaRect.top + cabritaRect.height / 2;

    const mouseX = e.clientX;
    const mouseY = e.clientY;

    const distance = Math.sqrt(
        Math.pow(mouseX - cabritaCenterX, 2) +
        Math.pow(mouseY - cabritaCenterY, 2)
    );

    if (distance < escapeRadius && !isDragging) {
        const angle = Math.atan2(mouseY - cabritaCenterY, mouseX - cabritaCenterX);

        const escapeX = cabrita.offsetLeft - Math.cos(angle) * escapeSpeed;
        const escapeY = cabrita.offsetTop - Math.sin(angle) * escapeSpeed;

        // Keep within bounds
        const maxX = window.innerWidth - cabritaRect.width;
        const maxY = window.innerHeight - cabritaRect.height;

        cabrita.style.left = Math.max(0, Math.min(escapeX, maxX)) + 'px';
        cabrita.style.top = Math.max(0, Math.min(escapeY, maxY)) + 'px';
    }
});
</script>






</body>
</html>